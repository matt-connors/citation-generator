---
import type { ImageMetadata } from "astro";
import { getImage } from "astro:assets";

interface Props {
    img: ImageMetadata;
    alt: string;
}

const { img, alt } = Astro.props;

const image = await getImage({
    src: img,
    format: "webp",
    widths: [200, 400, 600, 800, 1000, 1200, 1400, 1600, 1800, 2000],
});
---

<img
    srcset={image.srcSet.attribute}
    alt={alt}
    loading="lazy"
    decoding="async"
    width={img.width}
    height={img.height}
/>
